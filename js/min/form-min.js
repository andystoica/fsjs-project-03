function collectEvents(){for(var t={},e=$(".activities label"),o=0;o<e.length;o++){var a=e.eq(o).html(),n=a.match(/name="(.+)"/)[1],i={description:a.match(/> (.+) —/)[1],price:a.match(/\$(.+)/)[1],time:a.match(/— (.+),/)?a.match(/— (.+),/)[1]:null};t[n]=i}return t}function calculateCost(t){var e=0;return $('.activities input[type="checkbox"]:checked').each(function(){var o=$(this).attr("name");e+=parseInt(t[o].price)}),e}function checkConflicts(t,e){var o=t[e].time,a=[];for(var n in t)n!==e&&t[n].time&&o&&t[n].time.toLowerCase()===o.toLowerCase()&&a.push(n);return a}function disableEvent(t){$('input[name="'+t+'"]').attr("disabled",!0),$('input[name="'+t+'"]').parent().addClass("disabled")}function enableEvent(t){$('input[name="'+t+'"]').removeAttr("disabled"),$('input[name="'+t+'"]').parent().removeClass("disabled")}function enhanceForm(){$("#name").focus(),$("#other-title").hide(),$("#title").change(function(){"other"===$(this).val().toLowerCase()?$("#other-title").show():$("#other-title").hide()}),$("#colors-js-puns").hide(),$("#design").change(function(){switch($(this).val().toLowerCase()){case"js puns":$("#color").html(colorsJsPuns),$("#colors-js-puns").show();break;case"heart js":$("#color").html(colorsHeartJs),$("#colors-js-puns").show();break;default:$("#color").html(""),$("#colors-js-puns").hide()}});var t=collectEvents();$("input[type=checkbox]").change(function(){for(var e=$(this).attr("name"),o=$(this).is(":checked"),a=checkConflicts(t,e),n=0;n<a.length;n++)o?disableEvent(a[n]):enableEvent(a[n]);var i=calculateCost(t);i>0?$("h4.total-cost").length>0?$("h4.total-cost").text("Total: $"+i):$('<h4 class="total-cost">Total: $'+i+"</h4>").insertAfter(".activities"):$("h4.total-cost").remove()}),$("#payment").change(function(){switch($(this).siblings("div").hide(),$(this).val()){case"credit card":$("#credit-card").show();break;case"paypal":$("#paypal").show();break;case"bitcoin":$("#bitcoin").show()}}),$("#payment option").eq(1).prop("selected",!0).change()}var colorsJsPuns='<option value="cornflowerblue">Cornflower Blue</option><option value="darkslategrey">Dark Slate Grey</option><option value="gold">Gold</option>',colorsHeartJs='<option value="tomato">Tomato</option><option value="steelblue">Steel Blue</option><option value="dimgrey">Dim Grey</option>';enhanceForm();